<div class="profile-container">
  <h1 class="text-3xl font-bold text-white mb-6 text-center">Edit Profile</h1>

  <%= form_for(current_user, url: profile_path, method: :patch, html: { multipart: true, class: 'profile-form' }) do |f| %>
    <div class="field">
      <%= f.label :first_name, class: "form-label" %>
      <%= f.text_field :first_name, class: "form-input" %>
    </div>

    <div class="field">
      <%= f.label :last_name, class: "form-label" %>
      <%= f.text_field :last_name, class: "form-input" %>
    </div>

    <div class="field">
      <%= f.label :nickname, class: "form-label" %>
      <%= f.text_field :nickname, class: "form-input" %>
    </div>

    <div class="field">
      <%= f.label :phone_number, class: "form-label" %>
      <%= f.telephone_field :phone_number, class: "form-input" %>
    </div>

    <div class="field">
      <%= f.label :otp_enabled, class: "form-label" %>
      <%= f.check_box :otp_enabled %>
    </div>

    <div class="field">
      <% if current_user.profile_image.attached? %>
        <div class="image-preview mb-4">
          <%= image_tag current_user.profile_image.variant(resize_to_limit: [200, 200]), class: "rounded-full border border-gray-600" %>
        </div>
        <%= f.label :remove_profile_image, "Remove Profile Image", class: "form-label" %>
        <%= f.check_box :remove_profile_image, {}, '1', '0' %>
      <% end %>
      <%= f.file_field :profile_image, class: "form-input" %>
    </div>

    <div class="actions mt-6 text-center">
      <%= f.submit "Update Profile", class: 'btn btn-primary' %>
    </div>
  <% end %>

  <div class="mt-6 text-center">
    <%= link_to 'Back to Dashboard', authenticated_root_path, class: 'btn btn-secondary' %>
  </div>
</div>
