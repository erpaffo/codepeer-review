<div class="profile-container">
  <div class="profile-header text-center">
    <h1 class="text-3xl font-bold mb-6 text-white"><%= @user.nickname %>'s Profile</h1>
    <% if @user.profile_image.attached? %>
      <%= image_tag @user.profile_image.variant(resize: '200x200'), class: "rounded-full border border-gray-600" %>
    <% elsif @user.profile_image_url.present? %>
      <%= image_tag @user.profile_image_url, size: '200x200', class: "rounded-full border border-gray-600" %>
    <% end %>
  </div>

  <div class="profile-info text-center mb-6">
    <p><strong>Number of Snippets:</strong> <%= @user.snippets.count %></p>
    <p><strong>Number of Projects:</strong> <%= @user.projects.count %></p>
    <p><strong>Number of Followers:</strong> <%= @user.followers.count %></p>
    <p><strong>Number of Following:</strong> <%= @user.following.count %></p>
  </div>

  <% if user_signed_in? %>
    <div class="profile-buttons text-center">
      <%= button_to 'Follow', follow_user_path(@user), method: :post, remote: true, class: 'btn btn-primary', data: { turbo: false } %>
      <%= link_to 'Leave Feedback', leave_feedback_user_path(@user), class: 'btn btn-secondary' %>
    </div>
  <% end %>

  <div class="mt-6 text-center">
    <%= link_to 'Back to Community Snippets', community_activity_index_path, class: 'btn btn-secondary' %>
  </div>
</div>
